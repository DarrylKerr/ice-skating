<!DOCTYPE html>
<html>
<head>
<title>myswiper</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<link rel="stylesheet" type="text/css" href="./demo.css">
</head>
<body>
<div class="swiper-container">
    <div class="swiper-wrapper" id="ic1">
        <div class="swiper-slide">Slide 1</div>
        <div class="swiper-slide">Slide 2</div>
        <div class="swiper-slide">Slide 3</div>
    </div>
    <div class="ice-paginationX" id="ic1p">
        <span class="ice-pagination-bulletX  active">0</span>
        <span class="ice-pagination-bulletX">1</span>
        <span class="ice-pagination-bulletX">2</span>
    </div>
</div>

<div class="swiper-container swiper-container-vertical">
    <div class="swiper-wrapper" id="ic2">
        <div class="swiper-slide">Slide 1</div>
        <div class="swiper-slide">Slide 2</div>
        <div class="swiper-slide">Slide 3</div>
    </div>
    <div class="ice-paginationY" id="ic2p">
        <span class="ice-pagination-bulletY  active">0</span>
        <span class="ice-pagination-bulletY">1</span>
        <span class="ice-pagination-bulletY">2</span>
    </div>
</div>

<div class="swiper-containerPc">
<div class="swiper-wrapperPc" id="ic3">
    <div class="swiper-slidePc">1</div>
    <div class="swiper-slidePc">2</div>
    <div class="swiper-slidePc">3</div>
</div>
</div>
<script type="text/javascript" src="../dist/iceSkating.js"></script>
<script type="text/javascript">
    var apsX = [].slice.call(document.querySelector('#ic1p').children);
    var apsY = [].slice.call(document.querySelector('#ic2p').children);
    var switchPagination = function(eles, index){
        eles.forEach(function(v, i){
                if(i === index){
                    v.classList.add('active');
                }else{
                    v.classList.remove('active');
                }
        });
    };

    var initPaginationClick = (function(){
        apsX.forEach(function(v, i){
            v.addEventListener('click', function(){
                switchPagination(apsX, i);
                a.moveToIndex(i);
            }, false)
        });
        apsY.forEach(function(v, i){
            v.addEventListener('click', function(){
                switchPagination(apsY, i);
                b.moveToIndex(i);
            }, false)
        });
    })();    

	var a = new iceSkating({
		containerId: '#ic1',
        //animationDuration: 300,
        autoPlay: true,
        clickCallback: function(){
            console.log(a.getIndex(), 'clickCallback')
        },
        swiperEndCallBack: function(){
            switchPagination(apsX, a.getIndex());
            console.log(a.getIndex(), 'swiperEndCallBack')
        }
	});

	var b = new iceSkating({
		containerId: '#ic2',
		direction: 'y',
        autoPlay: true,
        swiperEndCallBack: function(){
            switchPagination(apsY, b.getIndex());
            console.log(a.getIndex(), 'swiperEndCallBack')
        }
	});

    //    var c = new iceSkating({
    //        containerId: '#ic3'
    //    });

</script>
</body>
</html>